"use strict";const input=document.querySelector(".js_search"),button=document.querySelector(".js_button"),list=document.querySelector(".js_list"),favoritesList=document.querySelector(".js_favorites");let shows=[],favorites=[];function getApi(){return"//api.tvmaze.com/search/shows?q="+input.value}function url(){let t=getApi();fetch(t).then(t=>t.json()).then(t=>{shows=t.map(t=>({id:t.show.id,title:t.show.name,image:t.show.image})),paintHtml()})}function paintHtml(){console.log(shows),list.innerHTML="";for(const t of shows){const e=t.title,i=t.image,s="https://via.placeholder.com/210x295/ffffff/666666/?text=TV",o=t.id;if(null===i){const t=`<li class="js_li" id="${o}"><h3>${e}</h3><img src="${s}" alt="covershow"></li>`;list.innerHTML+=t}else{const i=`<li class="js_li" id="${o}"><h3>${e}</h3><img src="${t.image.medium}" alt="covershow"></li>`;list.innerHTML+=i}}paintfavorites(),listenShows(),console.log(paintfavorites)}function handleShow(t){const e=parseInt(t.currentTarget.id),i=shows.find(t=>t.id===e),s=favorites.findIndex(t=>t.id===e);-1===s?favorites.push(i):favorites.splice(s,1),console.log(favorites),paintfavorites()}function paintfavorites(){favoritesList.innerHTML="";for(let t of favorites){const e=t.title,i=t.image.medium;let s=`<li class="js_lifav" id="${t.id}"><h3>${e}</h3><img src="${i}" alt="covershow"></li>`;favoritesList.innerHTML+=s}}function listenShows(){const t=document.querySelectorAll(".js_li");console.log(t);for(let e of t)e.addEventListener("click",handleShow)}function handleType(t){t.preventDefault(),url()}button.addEventListener("click",handleType);